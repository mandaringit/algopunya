# [LEETCODE] N-Queens II

N-Queen문제로, N이 주어질 때 가능한 경우의 수를 찾아라.

### 백트래킹

전형적인 백트래킹 문제로, 익숙해질 필요가 있다.

- 조건에 부합 -> 다음 재귀로
- 조건과 다름 -> 현재 상태를 취소, 다음 가능성으로 넘어가야함

알지만 쉽게 구현은 어려운 상황이다.

N-Queen의 경우 0번째 row부터 시작해서 col을 순회하며, 여기에 퀸을 둘 수 있는지 확인한 후 둘 수 있다면 다음으로 넘어가고, 둘 수 없다면 취소하고 다음 가능성을 탐색하러 간다.

### 대각선의 존재 여부 확인

과거에 N-Queen을 풀어보려고 했을때, 여기가 놓을 수 있는 자리인가? 라는 것을 확인하기 위해 2차원 배열에 모두 마킹하여 이를 전달하는 방법을 사용했었는데 시간도 오래걸리고 복사문제때문에 조금 복잡했다.

그런데 여기선 이를 간단하게 해결했다.

1. col을 확인하기 위해 col인덱스만 저장.
2. / 대각선을 확인하기 위해 row + col을 저장
3. \ 대각선을 확인하기 위해 row - col을 저장

대각선을 확인한 방법이 매우 놀랍다. 만약 0,0에 퀸을 두었을때, / 대각선의 좌표들은 (-1,1),(-2,2),(1,-1) 처럼 row + col = 0 을 동일하게 가리킨다. row - col 또한 마찬가지. 이를 사용하면 매우 간단하게 대각선에서 가능 여부를 판단할 수 있다.

내가 2,3에 두려는데 diag1={5} 또는 diag2={5} 또는 used_cols={5}가 있다면 이곳은 둘 수 없는 자리가 되는것이다.

### 이전 상태로 되돌리기

2차원 배열은 아니기에 쉽게 되돌릴 수 있던 경우같다. 백트래킹을 마치고 돌아오면 마킹한 상태를 지워주고 리턴하면 된다.
